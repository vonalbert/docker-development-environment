#!/usr/bin/env php
<?php

use Symfony\Component\Yaml\Yaml;

require __DIR__ . '/../vendor/autoload.php';


$config = Yaml::parseFile(__DIR__ . '/../config.yaml');

$compose = [
    'version' => '3.7',
    'services' => [],
];


include __DIR__ . '/../scripts/_phpmyadmin.php';
include __DIR__ . '/../scripts/_pgadmin.php';
include __DIR__ . '/../scripts/_mysql.php';
include __DIR__ . '/../scripts/_postgres.php';


// Generate docker compose file
$bytes = file_put_contents(
    __DIR__ . '/../docker-compose.yaml',
    Yaml::dump($compose, 4, 2)
);


if ($bytes === false) {
    die(1);
}

die(0);
